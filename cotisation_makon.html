<!DOCTYPE html>
 <html lang="en" >
 <head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
 <meta name="HandheldFriendly" content="true" />
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
 <meta name="format-detection" content="telephone=no">

  <title></title>

  <style>
      
html, body {
  margin: 0;
  height: 100%;
  width: 100%;
  min-width: 100%;
  max-height: 100%;
  min-height: 100%;
  overflow: hidden;
  position: fixed;
  background: linear-gradient(to top, #fff,  #f0f0f0, #f0f0f0, #f0f0f0, #f0f0f0, #fff) !important;
}


/**
 * ==============================================
 * EWX_XXX
 * ==============================================
 */

.deposit_title {
  position: absolute;
  font-family: 'helvetica neue', 'roboto', sans-serif;
  margin-top: 30px;
  left: 36px;
  font-size: 26px;
  color: #444;
  z-index: 4
 }




#dep_list {
  position: absolute;
  list-style-type: none;
  height: calc(100% - 92px);
  position: absolute;
  list-style-type: none;
  width: 100%;
  top: 52px;
  left: 0%;
  padding: 0;
  margin-right: 0px;
  margin-bottom: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
}

/* Hide scrollbar for Chrome, Safari and Opera */
#dep_list::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
#dep_list {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}


.dep_li {
  scroll-snap-type: x mandatory;
  overflow-x: scroll;
  overflow-y: hidden;
  display: flex;
  height: 106px;
  width: calc(100% - 32px);
  margin-left: 16px;
  margin-top: 12px;
  margin-bottom: 12px;
  border: 0px solid white;
  scrollbar-width: none;
  cursor: grab;
  
  box-shadow: 2px 7px 15px rgba(0,0,0,0.3);
  border-radius: 12px;
  font-family: "helvetica neue", "roboto", sans-serif;
  flex-direction: row;
  padding:0px; /* this */
}

.dep_li::-webkit-scrollbar {
  display: none;
}

.dep_li * {
  scroll-snap-align: start ;
}

.dep_li span {
  display: flex;
  flex: 1 0 100%;
  background: linear-gradient(to top right, #f0f0f0, #fff, #fff,#fff);
  border-radius: 10px 0px 0px 10px;
  user-select: none;
}

.dep_li button {
  border: none;
  cursor: pointer;
  padding: 0px;
  margin:0px;
  z-index: 1;
}

.dep_li button:first-of-type {
  flex: 1 0 45%;
  -webkit-flex: 1 0 45%;
  background-color: #444;
  border-radius: 10px 0px 0px 10px;
}

.dep_li button:nth-of-type(2n) {
  flex: 1 0 0%;
  -webkit-flex: 1 0%;
  background-color: #444;
}

.dep_li button:last-of-type {
  flex: 1 0 55%;
  -webkit-flex: 1 0 55%;
  background-color: #444;
}


.dep_date {
   position: absolute;
   display: none;
   left: 24px;
   margin-top: 8px;
   text-align: left;
   width: 200px;
   font-family: 'helvetica neue', 'roboto', sans-serif;
   font-size: 13px;
   color: #444;
   font-weight: 400; 
}
    
.dep_payer {
   position: absolute;
   display: none;
   left: 70px;
   margin-top: 66px;
   text-align: left;
   width: 160px;
   font-family: 'helvetica neue', 'roboto', sans-serif;
   font-size: 15px;
   color: #222;
   font-weight: 400; 
}



.dep_ico {
   position: absolute;
   display: none;
   left: 24px;
   margin-top: 58px;
   filter: invert(84%);
   width: 38px;
   height: 38px;
}


.mode {
   position: absolute;
   display: none;
   right: 0%;
   margin-right: 38px;
   margin-top: 2px;
   width: 80px;
   height: 37.6px;
}


.dep_amount {
   position: absolute;
   display: block;
   right: 0%;
   margin-right: 35px;
   text-align: right;
   margin-top: 46px;
   width: 200px;
   font-family: 'helvetica neue', 'roboto', sans-serif;
   font-size: 19px;
   font-weight: 500; 
}

.dep_solde {
   position: absolute;
   display: block;
   right: 0%;
   margin-right: 36px;
   text-align: right;
   margin-top: 82px;
   width: 200px;
   font-family: 'helvetica neue', 'roboto', sans-serif;
   font-size: 14px;
   color: #777;
   font-weight: 400; 
}  



.balance {
   position: absolute;
   display: block;
   right: 0%;
   margin-right: 24px;
   text-align: right;
   margin-top: 52px;
   width: auto;
   height: 30px;
   zoom: 0.7;
   font-family: 'helvetica neue', 'roboto', sans-serif;
   font-size: 20px;
   background: #e6e6e6;
   padding-left: 16px;
   padding-right: 20px;
   padding-top: 7px;
   padding-right: 7px;
   border-radius: 20px;
   color: #222;
   font-weight: 500; 
}
    
.bal_curr {
}






</style>
   
        
</head>
<body>
    
    

    <script src="/js/tailwind.js"></script>
    <script src="/js/chart.js"></script>
    <link rel="stylesheet" href="/css/fontawesome.css">
 

<div class="deposit_title">Cotisation</div>
  
<!---------------DEPOSITS------------------->
  <div class="balance"></div>
  
  <ul id="dep_list"></ul> 
  <div id="dep_listItem">
           <span>
               <h class="dep_date"></h>
               <img class="dep_ico">
               <img class="mode">
               <h class="dep_payer">Martin Makon</h>
               <h class="dep_amount"></h>
               <h class="dep_solde"></h>
           </span>
  </div>
</div>
  
  
 
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


 <script src="https://eweego.nyc3.cdn.digitaloceanspaces.com/apps_libs/e_numeral_1_2_1.js"></script>
 <script src="https://eweego-s.tor1.cdn.digitaloceanspaces.com/Eweego_JS_LIB/e_formatCalDate_min.js"></script>
    
  
<script>
    
    

$(document).ready(function(){

   var vs_data = {
  "_id": "66a670aa836b6c46d4350c30",
  "email": "tjanirolph@hotmail.com",
  "offer": "R",
  "id": "INVTJ6RO736849",
  "instal": "4",
  "birth": "1977-12-28",
  "pin": "pwIavKI2fFWyS2yHrtGt/l4HJ+t9WymGBQ4TCO2lhe+AXQ==",
  "last": "Tjani-A-Tjani",
  "first": "Rolph Dieudonne",
  "addr": "108 rue de Carouge,<br>Geneve 1205, GE,<br>Switzerland",
  "phone": "+41 79 922 15 91",
  "iso": "CH",
  "citizen": "Cameroon",
  "Country": "Switzerland",
  "prom": "25 000.00",
  "enroll": "2024-07-26",
  "status": "1|Ã€ jour",
  "city": "Geneve"
}
   
 var compte = 'NATH240480' //vs_data.id

 var settings = {
  "url": "https://484z7720nk.execute-api.ca-central-1.amazonaws.com/V1/nath-deuil-dons",
  "method": "POST",
  "timeout": 5000,
  "headers": {
    "Content-Type": "application/json"
  },
  "data": JSON.stringify({
    "compte": compte
  }),
};
  
$.ajax(settings).done(function (resp) {


              response = resp.documents

              response.sort(function(x, y){
                  return Number(y.time) - Number(x.time);
              })

              var balance = response[0].balance
              var promise = (vs_data.prom).replaceAll(' ', '')
              var respect = Number(balance) / Number(promise) * 100
              $('.percentage').html(respect)


              if ( balance >= 0 ) {
                  $('.balance').html( e_numeral(balance) + '<h class="bal_curr"> &nbsp;'+ 'Fcfa' +'</h>');
                  $('.received_amt').html( e_numeral(balance) + '<h class="bal_curr"> &nbsp;'+ 'Fcfa ' +'</h>');
              } else if ( balance < 0 )  {
                  $('.balance').html(e_numeral(balance) + '<h class="bal_curr"> &nbsp;'+ 'Fcfa' +'</h>')
                  $('.balance').css('color','#555');
              } 

              var  listItemString = $('#dep_listItem').html();
  
              response.forEach(frt_buildNewList);
  

  
              function frt_buildNewList(item, index) {
                
                  var lang = 'fr'
 
                  var deplistItem = $('<li class="dep_li">' + listItemString + '</li>');
              
                  var  unix = Number(item.time)

                  const date = new Date(Number(unix));
                  const yyyy = date.getFullYear();


                  let mm = date.getMonth() + 1;
                  if ( String(mm).length == 1 ) { mm = '0' + mm }

                  let dd = date.getDate();
                  if ( String(dd).length == 1 ) { dd = '0' + dd }

                  let hh = date.getHours();
                  if ( String(hh).length == 1 ) { hh = '0' + hh }

                  let mn = date.getMinutes();
                  if ( String(mn).length == 1 ) { mn = '0' + mn }

                  let sc = date.getSeconds();
                  if ( String(sc).length == 1 ) { sc = '0' + sc }

                  dt = yyyy + '-' + mm + '-' + dd 
                                  //console.log(dt)
                  //tm = hh + ':' + mn + ':' + sc
//alert(deplistItem)
                  $('.dep_date', deplistItem).html(e_formatCalDate(lang,dt)).css('display','block');
                  $('.dep_payer', deplistItem).html('Bertrand Makon').css('display','block');
                
                  $('.dep_ico', deplistItem).attr('src','https://eweego-s.tor1.cdn.digitaloceanspaces.com/INVESTORS/deposit.svg').css('display','block');
                  $('.mode', deplistItem).attr('src','https://eweego.nyc3.cdn.digitaloceanspaces.com/___Nath_Deuil_Icones/MO.png').css('display','block');
                
                  var amount = ''

                  if (item.debit == '0.00' || item.debit == '0' ) {
                      amount = item.credit
                      var listItemAmt = $('.dep_amount', deplistItem).css('color','#fff');
                      listItemAmt.html(e_numeral(amount));
                  } else if (item.credit == '0.00'  || item.credit == '0' ) {
                      amount = item.debit
                      var listItemAmt = $('.dep_amount', deplistItem).css('color','#000');
                      listItemAmt.html( '+ ' + e_numeral(amount));
              } 
         
              var sold = item.balance
              var listItemSold = $('.dep_solde', deplistItem);
              if ( sold >= 0 ) {
              listItemSold.html(e_numeral(sold)); 
              } else if ( sold < 0 )  {
              listItemSold.html(e_numeral(sold)).css('color','#ff6a00');; 
              } 



                  $('#dep_list').append(deplistItem);
                
                
                
              }
         
      
       
  

});

});
</script>

</body>
</html>
